<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="db/d33/class_modular_1_1_debugger">
<title>Modular::Debugger class Reference</title>
        <simplesect>
            <title>Public Attributes</title>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>const DefaultSendEmailsFrom</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>const DebugNone</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>const DebugErr</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>const DebugWarn</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>const DebugNotice</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>const DebugInfo</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>const DebugTrace</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>const DebugAll</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>const DebugOff</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>const DebugFile</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>const DebugScreen</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>const DebugEmail</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>const DebugEnvDev</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>const DebugEnvTest</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>const DebugEnvLive</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>const LevelFromEnv</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>const DebugPerClass</para>
                    </listitem>
                </itemizedlist>
            </para>
        </simplesect>
        <simplesect>
            <title></title>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>static $environment_levels</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>static static $levels</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>static $send_emails_from</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>static $log_file</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>static $log_path</para>
                    </listitem>
                </itemizedlist>
            </para>
        </simplesect>
        <simplesect>
            <title>Private Attributes</title>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>$logFilePathName</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>$emailLogFileTo</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>$source</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>$level</para>
                    </listitem>
                </itemizedlist>
            </para>
        </simplesect>
        <simplesect>
            <title></title>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1a6b49d6c45a8dd7ddfe2b2b3c490d4962">__construct</link> (
 $level,  $source)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1a421831a265621325e1fdd19aace0c758">__destruct</link> (
)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1af88c3370a1b278fdb2639e1bbdd207be">level</link> (
 $level)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1a7468d191788a04ea6803f0784d0dd1b6">source</link> (
 $source)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1aa13eced9019dd5542d5256f40fcf4079">readLog</link> (
)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1a7ca9f391c711f25e05f47a5aa6334b50">env</link> (
 $env)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1aa90e16c1f1c0137b8d8c61391c25f426">formatMessage</link> (
 $message,  $severity,  $source)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1a053a54bed3aafbacf775bd921a9add4d">log</link> (
 $message,  $facilities,  $source)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1a731656b5cdba0710fc494dea9c41af87">info</link> (
 $message,  $source)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1a637ec200268d08eace48d05825418195">trace</link> (
 $message,  $source)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1a996aaade54f01c5ff6ae1eecb9042ea8">notice</link> (
 $message,  $source)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1ad23128ddfac600c09006227e4228c9d2">warn</link> (
 $message,  $source)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1ad6cad5853514ae68cc77d5b0d837fddb">error</link> (
 $message,  $source)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1a48a5ce9928b744f0fafaeef38f9d4847">fail</link> (
 $message,  $source, <link linkend="d5/d09/class_modular_1_1_exceptions_1_1_exception">Exception</link> $exception)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1a72bf2099966aed040ccefd8f0b75490c">toEmail</link> (
 $address,  $level)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1adfa57d169a08e391f033b042a9bc3c77">toFile</link> (
 $level,  $filePathName)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1ad32fcabe052a58d5666ac508d1ab3b0e">toScreen</link> (
 $level)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1acdd9277312a3ab792cf6f7f77bb536b4">sendFile</link> (
 $emailAddress)</para>
                    </listitem>
                </itemizedlist>
            </para>
        </simplesect>
        <simplesect>
            <title></title>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>static <link linkend="db/d33/class_modular_1_1_debugger_1a8d120aabcf6319f6f8e5ca0e8719e054">debugger</link> (
 $level,  $source)</para>
                    </listitem>
                </itemizedlist>
            </para>
        </simplesect>
        <simplesect>
            <title></title>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1aaa238e6f626462adcaf1a07bdcc10844">init</link> (
 $level,  $source)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1a9e5de5c4ec4e4b6be0a017c18707ad82">lvl</link> (
 $facilities,  $compareToLevel)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para> <link linkend="db/d33/class_modular_1_1_debugger_1aa04c4df224b899dfa1f249f1b8e8cf00">makeLogFileName</link> (
)</para>
                    </listitem>
                </itemizedlist>
            </para>
        </simplesect>
            <section xml:id="db/d33/class_modular_1_1_debugger_1a6b49d6c45a8dd7ddfe2b2b3c490d4962">
                <title>__construct ($level=self::LevelFromEnv, $source= &apos;&apos;)</title> <emphasis></emphasis>
                
            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1a421831a265621325e1fdd19aace0c758">
                <title>__destruct ()</title> <emphasis></emphasis>
                
<para>If emailLogFileTo and logFilePathName is set then email the logFilePathName content if not empty </para>

            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1af88c3370a1b278fdb2639e1bbdd207be">
                <title>level ($level=null)</title> <emphasis></emphasis>
                
<para>
<para>Set a new level for debugging or return the existing one. If level is LevelFromEnv then use the config.environment_levels setting for the current environment (&apos;dev&apos;, &apos;test&apos; or &apos;live&apos;)</para>

<para>
                <formalpara>
                    <title/>
                    <table frame="all">
                        <title>Parameters</title>
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <tbody>
                            <row>
                                <entry>$level</entry>
                                <entry>
<para>to set and any other options such as to screen etc </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                </formalpara>
                <formalpara><title>Returns: </title>

<para>$this if any params passed, current level if not </para>
</formalpara>
</para>
 </para>

            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1a7468d191788a04ea6803f0784d0dd1b6">
                <title>source ($source=null)</title> <emphasis></emphasis>
                
            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1aa13eced9019dd5542d5256f40fcf4079">
                <title>readLog ()</title> <emphasis></emphasis>
                
            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1a7ca9f391c711f25e05f47a5aa6334b50">
                <title>env ($env=SS_ENVIRONMENT_TYPE)</title> <emphasis></emphasis>
                
<para>Set level from config.environment_levels for passed type 
                <formalpara>
                    <title/>
                    <table frame="all">
                        <title>Parameters</title>
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <tbody>
                            <row>
                                <entry>$env</entry>
                                <entry>
<para>&apos;dev&apos;, &apos;test&apos;, &apos;live&apos; </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                </formalpara>
                <formalpara><title>Returns: </title>

<para>$this  </para>
</formalpara>
</para>

            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1aa90e16c1f1c0137b8d8c61391c25f426">
                <title>formatMessage ($message, $severity, $source= &apos;&apos;)</title> <emphasis></emphasis>
                
<para>
                <formalpara>
                    <title/>
                    <table frame="all">
                        <title>Parameters</title>
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <tbody>
                            <row>
                                <entry>$message</entry>
                                <entry>
<para></para>
</entry>
                            </row>
                            <row>
                                <entry>$severity</entry>
                                <entry>
<para>e.g. &apos;ERR&apos;, &apos;TRC&apos; </para>
</entry>
                            </row>
                            <row>
                                <entry>$source</entry>
                                <entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                </formalpara>
                <formalpara><title>Returns: </title>

<para>mixed </para>
</formalpara>
</para>

            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1a053a54bed3aafbacf775bd921a9add4d">
                <title>log ($message, $facilities, $source= &apos;&apos;)</title> <emphasis></emphasis>
                
<para>
<para>
                <formalpara>
                    <title/>
                    <table frame="all">
                        <title>Parameters</title>
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <tbody>
                            <row>
                                <entry>$message</entry>
                                <entry>
<para></para>
</entry>
                            </row>
                            <row>
                                <entry>$facilities</entry>
                                <entry>
<para>a level to compare to current set level and any other output options such as Screen etc </para>
</entry>
                            </row>
                            <row>
                                <entry>$source</entry>
                                <entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                </formalpara>
                <formalpara><title>Returns: </title>

<para>$this</para>
</formalpara>
</para>
 </para>

            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1a731656b5cdba0710fc494dea9c41af87">
                <title>info ($message, $source= &apos;&apos;)</title> <emphasis></emphasis>
                
            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1a637ec200268d08eace48d05825418195">
                <title>trace ($message, $source= &apos;&apos;)</title> <emphasis></emphasis>
                
            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1a996aaade54f01c5ff6ae1eecb9042ea8">
                <title>notice ($message, $source= &apos;&apos;)</title> <emphasis></emphasis>
                
            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1ad23128ddfac600c09006227e4228c9d2">
                <title>warn ($message, $source= &apos;&apos;)</title> <emphasis></emphasis>
                
            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1ad6cad5853514ae68cc77d5b0d837fddb">
                <title>error ($message, $source= &apos;&apos;)</title> <emphasis></emphasis>
                
            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1a48a5ce9928b744f0fafaeef38f9d4847">
                <title>fail ($message, $source= &apos;&apos;, Exception $exception)</title> <emphasis></emphasis>
                
            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1a72bf2099966aed040ccefd8f0b75490c">
                <title>toEmail ($address, $level)</title> <emphasis></emphasis>
                
<para>Set the email address to send emails to</para>

<para>
                <formalpara>
                    <title/>
                    <table frame="all">
                        <title>Parameters</title>
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <tbody>
                            <row>
                                <entry>$address</entry>
                                <entry>
<para></para>
</entry>
                            </row>
                            <row>
                                <entry>$level</entry>
                                <entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                </formalpara>
                <formalpara><title>Returns: </title>

<para>$this </para>
</formalpara>
</para>

            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1adfa57d169a08e391f033b042a9bc3c77">
                <title>toFile ($level, $filePathName= &apos;&apos;)</title> <emphasis></emphasis>
                
<para>Log to provided file or to a generated file. Filename is relative to site root if it starts with a &apos;/&apos; otherwise is interpreted as relative to assets folder. Checks to make sure final log file path is inside the web root.</para>

<para>
                <formalpara>
                    <title/>
                    <table frame="all">
                        <title>Parameters</title>
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <tbody>
                            <row>
                                <entry>$level</entry>
                                <entry>
<para>only log above this level </para>
</entry>
                            </row>
                            <row>
                                <entry>$filePathName</entry>
                                <entry>
<para>log to this file or if not supplied generate one </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                </formalpara>
                <formalpara><title>Returns: </title>

<para>$this </para>
</formalpara>
</para>

            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1ad32fcabe052a58d5666ac508d1ab3b0e">
                <title>toScreen ($level=self::LevelFromEnv)</title> <emphasis></emphasis>
                
<para>
                <formalpara>
                    <title/>
                    <table frame="all">
                        <title>Parameters</title>
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <tbody>
                            <row>
                                <entry>$level</entry>
                                <entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                </formalpara>
                <formalpara><title>Returns: </title>

<para>$this </para>
</formalpara>
</para>

            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1acdd9277312a3ab792cf6f7f77bb536b4">
                <title>sendFile ($emailAddress)</title> <emphasis></emphasis>
                
<para>At end of <link linkend="db/d33/class_modular_1_1_debugger">Debugger</link> lifecycle file set by toFile will be sent to this email address.</para>

<para>
                <formalpara>
                    <title/>
                    <table frame="all">
                        <title>Parameters</title>
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <tbody>
                            <row>
                                <entry>$emailAddress</entry>
                                <entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                </formalpara>
                <formalpara><title>Returns: </title>

<para>$this </para>
</formalpara>
</para>

            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1a8d120aabcf6319f6f8e5ca0e8719e054">
                <title>static debugger ($level=self::LevelFromEnv, $source= &apos;&apos;)</title> <emphasis></emphasis>
                
            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1aaa238e6f626462adcaf1a07bdcc10844">
                <title>init ($level, $source=null)</title> <emphasis></emphasis>
                
<para>Set levels and source and if flags indicate debugging to file screen or email initialise those aspects of debugging using defaults from config.</para>

<para>
                <formalpara>
                    <title/>
                    <table frame="all">
                        <title>Parameters</title>
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <tbody>
                            <row>
                                <entry>$level</entry>
                                <entry>
<para></para>
</entry>
                            </row>
                            <row>
                                <entry>$source</entry>
                                <entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                </formalpara>
                <formalpara><title>Returns: </title>

<para>$this </para>
</formalpara>
</para>

            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1a9e5de5c4ec4e4b6be0a017c18707ad82">
                <title>lvl ($facilities, $compareToLevel=null)</title> <emphasis></emphasis>
                
<para>Return level if level from facilities less than current level otherwise false.</para>

<para>
                <formalpara>
                    <title/>
                    <table frame="all">
                        <title>Parameters</title>
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <tbody>
                            <row>
                                <entry>$facilities</entry>
                                <entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                </formalpara>
                <formalpara><title>Returns: </title>

<para>bool|int </para>
</formalpara>
</para>

            </section>
            <section xml:id="db/d33/class_modular_1_1_debugger_1aa04c4df224b899dfa1f249f1b8e8cf00">
                <title>makeLogFileName ()</title> <emphasis></emphasis>
                
<para>Returns a log file path and name relative to the assets folder using config.log_path. If path doesn&apos;t exist and is in the assets folder then will try and create it (recursively). If it is outside the assets folder then will not try and create the path.</para>

<para><formalpara><title>Returns: </title>

<para>string </para>
</formalpara>
exception                            <row>
                                <entry>\Modular\Exceptions\Application</entry>
                                <entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                </formalpara>
                </para>

            </section>
</section>
